# Recursive fibonacci number generator
module $fibonacci

var $iN = 4

func run {
	var $prev = -1
	var $result = 1
	var $sum = 0
	
	for(
		var $i = 0, lt($i, $iN), $i = add($i, 1),
		[
			$sum = add($result, $prev)
			$prev = $result
			$result = $sum
		]
	)
	
	$result
}

func run_recursive {
	var $locN = $iN
	if(lteq($locN,0),1,
		add(
			[
				$iN = sub($locN,1)
				run_recursive()
			],
			[
				$iN = sub($locN,2)
				run_recursive()
			]
		)
	)
}